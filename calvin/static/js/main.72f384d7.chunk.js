(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e){e.exports={products:[{id:1,name:"T-shirt",img:"shirt",numberOfImg:3,description:"Nice shirt with a statement",details:"Lorem ipsum ipsum lorem, 60*, Wash: lorem ipsum paprika som inte kan ipsum bajern. Kall ipsum men inte lorem som man lorem lorem",price:20,size:["S","M","L"],color:["bl\xe5","r\xf6d","gul"]},{id:2,name:"Polo shirt",img:"shirt2",numberOfImg:3,description:"Nice polo statement is futile",details:"Lorem ipsum ipsum lorem, 60*, Wash: lorem ipsum paprika som inte kan ipsum bajern. Kall ipsum men inte lorem som man lorem lorem",price:15,size:["S","M","L"],color:["bl\xe5","r\xf6d","gul"]},{id:3,name:"Cap",img:"cap",numberOfImg:4,description:"Nice cap with a statement",details:"Lorem ipsum ipsum lorem, 60*, Wash: lorem ipsum paprika som inte kan ipsum bajern. Kall ipsum men inte lorem som man lorem lorem",price:5,size:["Onesize"],color:["svart","gul"]}]}},21:function(e,t,a){e.exports=a(32)},30:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(12),c=a.n(l),i=a(13),m=a(14),o=a(19),u=a(15),s=a(20),d=a(35),p=a(36),E=a(37),f=a(2),h=a(34),v=a(16),g=Object(n.createContext)();var b=function(e){var t=v.products.map(function(e){return null==e.inCart&&(e.inCart=1),e}),a=Object(n.useState)(t),l=Object(f.a)(a,2),c=l[0],i=l[1],m=Object(n.useState)([]),o=Object(f.a)(m,2),u=o[0],s=o[1];return r.a.createElement(g.Provider,{value:[c,i,u,s]},e.children)};var _=function(){var e=Object(n.useContext)(g),t=Object(f.a)(e,3)[2].reduce(function(e,t){return e+t.inCart},0);return r.a.createElement("nav",{className:"mainNav"},r.a.createElement("div",{className:"navLogo"},r.a.createElement(h.a,{className:"logoLink",to:"./"},"LoGO")),r.a.createElement("div",{className:"navlinks"},r.a.createElement(h.a,{className:"link",to:"./about"},"About"),r.a.createElement(h.a,{className:"link",to:"./shop"},"Shop"),r.a.createElement(h.a,{className:"cart_link",to:"./cart"},"Cart: ",r.a.createElement("span",null,t))))};var O=function(){return r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"home_content"},r.a.createElement("div",{className:"home_header"},r.a.createElement("h1",null,"Did you know?"),r.a.createElement("h2",null,"People are people")),r.a.createElement("div",{className:"home_text"},r.a.createElement("p",null,"They are 1000 of.. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."))),r.a.createElement("div",{className:"help_btn"},r.a.createElement(h.a,{className:"link",to:"./about"},"How can i help?")))},j=a(5);function N(e){return e.item.size.length<=1?r.a.createElement("p",{className:"product_size_dropdown"},e.item.size[0]):r.a.createElement("div",null,r.a.createElement("select",{className:"product_size_dropdown",value:e.seletedSize,onChange:function(t){return function(t){e.setSelectedSize(t.target.value)}(t)}},e.item.size.map(function(e){return r.a.createElement("option",{key:e,value:e},e)})))}function C(e){var t=Object(n.useState)(0),a=Object(f.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(1),m=Object(f.a)(i,2),o=m[0],u=m[1],s=function(t){var a=new XMLHttpRequest;return a.open("HEAD","./img/products/"+e.item.img+"_"+t+".jpg",!1),a.send(),404!==a.status};return Object(n.useEffect)(function(){if(0===e.item.numberOfImg)for(var t=1;;){if(!s(t+=1))return;c(t)}else c(e.item.numberOfImg)},[]),r.a.createElement("div",{className:"product_details"},r.a.createElement("div",{className:"product_details_header"},r.a.createElement("h1",null,e.item.name),r.a.createElement("button",{className:"product_details_back_btn",onClick:function(){return e.setShowDetails(!1)}},"\xd7")),r.a.createElement("div",{className:"product_details_slide"},r.a.createElement("p",null,"<"),r.a.createElement("img",{className:"product_details_img",alt:"productimage",src:"./img/products/"+e.item.img+"_"+o+".jpg"}),r.a.createElement("img",{className:"product_details_img_left",alt:"productimage",src:"./img/products/"+e.item.img+"_"+(o<=1?l:o-1)+".jpg"}),r.a.createElement("img",{className:"product_details_img_right",alt:"productimage",src:"./img/products/"+e.item.img+"_"+(o+1>l?1:o+1)+".jpg"}),r.a.createElement("p",null,">"),r.a.createElement("div",{className:"product_details_slide_btn"},r.a.createElement("div",{onClick:function(){u(o<=1?l:o-1)}}),r.a.createElement("div",{onClick:function(){u(o+1>l?1:o+1)}}))),r.a.createElement("p",{className:"product_details_description"},e.item.description),r.a.createElement("p",{className:"product_details_details"},e.item.details),r.a.createElement(N,{item:e.item,seletedSize:e.seletedSize,setSelectedSize:e.setSelectedSize}),r.a.createElement("p",{className:"product_details_price"},e.item.price," $"),r.a.createElement("button",{className:"product_details_add_btn",onClick:function(){return e.addToCart(e.item,e.seletedSize)}},e.buttonText))}var S=function(e){var t=Object(n.useState)(String(e.item.size[0])),a=Object(f.a)(t,2),l=a[0],c=a[1],i=Object(n.useContext)(g),m=Object(f.a)(i,4),o=m[2],u=m[3],s=Object(n.useState)("Add to cart"),d=Object(f.a)(s,2),p=d[0],E=d[1],h=Object(n.useState)(!1),v=Object(f.a)(h,2),b=v[0],_=v[1],O=function(e,t){var a=o,n=!1,r=JSON.parse(JSON.stringify(e));r.size=t,r.id=e.id+"-"+l,0!==a.length&&a.forEach(function(e){r.id===e.id&&(e.inCart++,n=!0,S())}),n?u(Object(j.a)(a)):(u([].concat(Object(j.a)(a),[r])),S())},S=function(){E("Added"),setTimeout(function(){E("Add to cart")},1500)};return r.a.createElement("div",null,b?r.a.createElement("div",{onClick:function(){return _(!1)},className:"product_details_overlay"}," "):r.a.createElement("div",null," "),r.a.createElement("div",{className:"product_card_frame"},r.a.createElement("div",{className:"product_card",onClick:function(){return _(!0)}},r.a.createElement("img",{className:"product_card_img",alt:"productimage",src:"./img/products/"+e.item.img+"_small.jpg"}),r.a.createElement("h3",null,e.item.name),r.a.createElement("p",null,e.item.description)),r.a.createElement(N,{item:e.item,seletedSize:l,setSelectedSize:c}),r.a.createElement("p",{className:"product_card_price"},"$",e.item.price),r.a.createElement("button",{className:"product_card_add_btn",onClick:function(){return O(e.item,l)}},p),b&&r.a.createElement(C,{setShowDetails:_,item:e.item,addToCart:O,seletedSize:l,setSelectedSize:c,buttonText:p})))};var k=function(){var e=Object(n.useContext)(g),t=Object(f.a)(e,3)[0].map(function(e){return r.a.createElement(S,{key:e.id,item:e})});return r.a.createElement("div",{className:"shop_main"},r.a.createElement("h1",{className:"shop_header"},"Products"),r.a.createElement("div",{className:"products"},t))};var y=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"By buying our products toy help people"),r.a.createElement("p",null,"The money from our products let you help the people that are suffering"),r.a.createElement(h.a,{className:"about_link",to:"./shop"},"Here's a selection of products"))};var z=function(){var e=Object(n.useContext)(g),t=Object(f.a)(e,4),a=t[2],l=t[3],c=null,i=0;return 0!==a.length&&(c=a.map(function(e,t){return i+=e.price*e.inCart,r.a.createElement("tr",{key:e.id,className:"cart_item"},r.a.createElement("td",{className:"cart_image"},r.a.createElement("img",{alt:"cart_image",src:"./img/products/"+e.img+"_small.jpg"})),r.a.createElement("td",null,e.name," Size:",e.size),r.a.createElement("td",null,r.a.createElement("input",{type:"number",value:e.inCart,onChange:function(e){return function(e,t){var n=Object(j.a)(a);parseInt(e.target.value)>0&&parseInt(e.target.value)<21&&(n[t].inCart=parseInt(e.target.value)),l(Object(j.a)(n))}(e,t)},onClick:function(e){return e.target.select()}})),r.a.createElement("td",null,e.price,"$"),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(e){var n=Object(j.a)(a);n.splice(t,1),l(n)}},"Remove")))})),0===a.length?r.a.createElement("div",{className:"cart_main"},r.a.createElement("h1",null,"No products in cart"),r.a.createElement(h.a,{className:"cart_next_btn",to:"./shop"},"Back to shop")):r.a.createElement("div",{className:"cart_main"},r.a.createElement("h1",null,"Cart"),r.a.createElement("table",{className:"cart_table"},r.a.createElement("tr",{className:"cart_item"},r.a.createElement("th",{className:"image_temp"}," "),r.a.createElement("th",null,"Product:"),r.a.createElement("th",null,"Qty"),r.a.createElement("th",null,"Price:"),r.a.createElement("th",null," ")),c||r.a.createElement("h3",null,"No products")),r.a.createElement("h2",null,i," $"),r.a.createElement("div",null,r.a.createElement(h.a,{className:"cart_next_btn",to:"./checkout"},"Checkout")))},w=a(6);function x(e){var t=Object(n.useState)(!1),a=Object(f.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)({firstname:"",lastname:"",adress:"",zipcode:"",city:"",email:""}),m=Object(f.a)(i,2),o=m[0],u=m[1],s=function(e){"firstName"===e.target.id?u(Object(w.a)({},o,{firstname:e.target.value})):"lastName"===e.target.id?u(Object(w.a)({},o,{lastname:e.target.value})):"customerAdress"===e.target.id?u(Object(w.a)({},o,{adress:e.target.value})):"zipCode"===e.target.id?u(Object(w.a)({},o,{zipcode:e.target.value})):"city"===e.target.id?u(Object(w.a)({},o,{city:e.target.value})):"eMail"===e.target.id&&u(Object(w.a)({},o,{email:e.target.value}))};return Object(n.useEffect)(function(){c(!1),o.firstname.length<2||o.lastname.length<2||o.adress.length<2||o.city<2||o.email.length<5||!o.email.includes("@")||c(!0)}),r.a.createElement("div",{className:"order_form"},r.a.createElement("h3",null,"Input delivery adress"),r.a.createElement("form",null,r.a.createElement("div",null,r.a.createElement("p",null,"Name"),r.a.createElement("input",{id:"firstName",placeholder:"First name",onChange:s,value:o.firstname}),r.a.createElement("input",{id:"lastName",placeholder:"Last name",onChange:s,value:o.lastname}),r.a.createElement("br",null)),r.a.createElement("p",null,"Adress"),r.a.createElement("input",{id:"customerAdress",placeholder:"Street adress",onChange:s,value:o.adress}),r.a.createElement("p",null,"Zip code"),r.a.createElement("input",{id:"zipCode",placeholder:"Zip code",onChange:s,value:o.zipcode}),r.a.createElement("p",null,"City"),r.a.createElement("input",{id:"city",placeholder:"City",onChange:s,value:o.city}),r.a.createElement("p",null,"E-mail"),r.a.createElement("input",{id:"eMail",type:"email",placeholder:"E-mail",onChange:s,value:o.email}),r.a.createElement("br",null),l?r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.history.push("/confirm",o)}},"Next"):r.a.createElement("p",null,"input all your information")))}var I=function(){return r.a.createElement("h1",null,"404 Page not found")},L=a(10),T=a.n(L),A=a(17);function P(e){var t=Object(n.useRef)();return Object(n.useEffect)(function(){window.paypal.Buttons({createOrder:function(t,a){return a.order.create({purchase_units:[{description:"Calvin webshop",amount:{currency_code:"USD",details:{subtotal:1.09,shipping:.02,tax:.33},value:e.totalPrice}}]})},onApprove:function(){var t=Object(A.a)(T.a.mark(function t(a,n){return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.setOrderConfirmed(!0);case 1:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()}).render(t)}),r.a.createElement("div",null,e.orderConfirmed?r.a.createElement("div",null,r.a.createElement("h1",null,"Your order is payed, ty!")):r.a.createElement("div",null,r.a.createElement("div",{ref:function(e){return t=e}})))}function $(e){var t=Object(n.useContext)(g),a=Object(f.a)(t,4),l=a[2],c=a[3],i=Object(n.useState)(!1),m=Object(f.a)(i,2),o=m[0],u=m[1],s=Object(n.useState)(l),d=Object(f.a)(s,1)[0],p=0,E=e.location.state,h=d.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("p",null,"product id: ",e.id," - ",e.price,"$"),r.a.createElement("p",null,e.inCart," item of ",e.name," size: ",e.size))}),v=d.map(function(e){return"<li key="+e.id+"><p>product id: "+e.id+" - "+e.price+"$</p><p>"+e.inCart+" item of "+e.name+" size: "+e.size+"</p></li>"});p=l.reduce(function(e,t){return e+t.price*t.inCart},0),p+=15;var b=function(){var e="<div> <p>"+E.firstname+" "+E.lastname+"</p><p>"+E.adress+"</p> <p>"+E.zipcode+"</p> <p>"+E.city+"</p><p>"+E.email+"</p> <hr/>",t="<ul>"+v+"</ul> <p>Shipping: 15</p> <hr/> <p>Total: "+p+"</p> </div>",a={mail_to:E.email,message_html:e+t};console.log("Sending mail"),window.emailjs.send("sendgrid_calvin","calvin_shop",a).then(function(e){console.log(e.text)},function(e){console.log(e.text)})};return r.a.createElement("div",null,o?r.a.createElement("h1",null,"Confirmed!"):r.a.createElement("p",null,"Check your credentials and confirm order!"),r.a.createElement("p",null,E.firstname," ",E.lastname),r.a.createElement("p",null,E.adress),r.a.createElement("p",null,E.zipcode),r.a.createElement("p",null,E.city),r.a.createElement("p",null,E.email),r.a.createElement("hr",null),r.a.createElement("ul",null,h),r.a.createElement("p",null,"Shipping: ",15,"$"),r.a.createElement("hr",null),r.a.createElement("p",null,"Total: ",p,"$"),r.a.createElement(P,{userData:E,orderItems:d,totalPrice:p,orderConfirmed:o,setOrderConfirmed:function(e){u(!o),c([]),b()}.bind(this)}))}a(30);var D=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return console.log("url($)"),r.a.createElement("div",{className:"mainContainer"},r.a.createElement(d.a,{basename:"/calvin"},r.a.createElement(r.a.Fragment,null,r.a.createElement(b,null,r.a.createElement(_,null),r.a.createElement(p.a,null,r.a.createElement(E.a,{exact:!0,path:"/",component:O}),r.a.createElement(E.a,{path:"/shop",component:k}),r.a.createElement(E.a,{path:"/about",component:y}),r.a.createElement(E.a,{path:"/cart",component:z}),r.a.createElement(E.a,{path:"/checkout",component:x}),r.a.createElement(E.a,{path:"/confirm",component:$}),r.a.createElement(E.a,{component:I}))))))}}]),t}(r.a.Component);c.a.render(r.a.createElement(function(){return r.a.createElement(D,null)},null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.72f384d7.chunk.js.map